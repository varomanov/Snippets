{% extends 'base.html' %}

{% load static %}

{% block content %}
  <!-- Begin page content -->
  <main role="main" class="mt-3 flex-shrink-0">
    <div class="container">
      <div class="row">
        <div class="col">
          <h1>{{ pagename }}</h1>
          <hr />
        </div>
      </div>

      <form action="" method="post">
        {% csrf_token %}

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col col-8">
                <label>Название:</label>
                <input type="text" name="name" value="{{ snippet.name }}" class="form-control" />
              </div>
              <div class="col col-4">
                <label>Дата создания:</label>
                <input type="text" value="{{ snippet.creation_date }}" class="form-control" disabled />
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col">
                <label>Код:</label>
                <textarea name="code" class="form-control" rows="10">{{ snippet.code }}</textarea>
              </div>
            </div>
          </div>
        </div>

        <br />
        <div class="row mt-3">
          <div class="col">
            <button type="submit" name="action" value="update" class="btn btn-primary">
              <i class="bi bi-floppy me-2"></i>
              Сохранить изменения</button>
            <button type="submit" name="action" value="delete" class="btn btn-danger">Удалить</button>
            <a href="{% url 'snippets-list' %}" class="btn btn-secondary">Отмена</a>
          </div>
        </div>
      </form>
    </div>
  </main>
{% endblock %}
